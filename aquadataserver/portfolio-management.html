<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Portfolio Management Solutions Examples | AquaFold</title>
    <meta name="description" content="Example project for building Stock Portfolio Management analytical and forecasting solutions with Aqua Data Server - Security Price Volatility , Risk-Performance Single Security vs. Portfolio, Stock Prices Correlations and Diversification of Portfolio.">
    <meta name="keywords" content="portfolio management software, portfolio analytics, custom stock analytics, aqua data server examples, aquascript examples">
    <meta name="robots" content="noodp,noydir" />
    <link rel="SHORTCUT ICON" href="http://www.aquafold.com/favicon.ico">
    <link rel='stylesheet' href='../style/bootstrap/css/bootstrap.css'>    
    <link rel='stylesheet' href='../style/lightbox.css'>
    <style type="text/css">
<!--
.style12 {font-size: 16px}
-->

    </style>


<script type="text/javascript"  >

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-3163490-1', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body>
<div class="container">
<!-- Navbar
================================================== -->
<div class="navbar navbar-fixed-top">
	<div class="navbar-inner">
		<div class="container">
			<a class="brand" href="http://www.aquafold.com/" >
				<img src="../images/aquafold_logo_blue_bubbles.png" alt="AquaFold, Inc." title="AquaFold, Inc." />
			</a>
			<div class="nav-collapse" >
				<ul class="nav">
					<li class="">
						<a href="../aquadatastudio.html">Aqua Data Studio</a>
					</li>
					<li class="active">
						<a href="../aquadataserver.html">Aqua Data Server</a>
					</li>
					<li class="">
						<a href="../aquaclusters.html">AquaClusters</a>
					</li>
				</ul>
				<ul class="nav pull-right">
					<li>
						<a href="../support.html">Support</a>
					</li>
					<li>
						<a href="../store.html">Buy</a>
					</li>
					<li>
						<a href="../company.html" class="company">Company</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>


<!-- Subnav
================================================== -->
<div class="subnav">
	<ul class="nav nav-pills">
		<li>
			<a href="../aquadataserver.html">Overview </a>
		</li>
		<li>
			<a href="../aquadataserver_whats_new.html">What&#8217;s New</a>
		</li>
		<li>
			<a href="../aquadataserver_features.html">Features &amp; Screenshots</a>
		</li>
		<li>
			<a href="../aquadataserver_downloads.html">Download</a>
		</li>		
		<li>
			<a href="../aquadataserver_documentation.html">Documentation</a>
		</li>

		<li>
			<a href="../store.html">Buy</a>
		</li>
		<li>
			<img src="../images/aquadataserver_logo_gray_no_bubbles.png" style="position:relative;left:179px;top:13px;">
</li>
</ul>
</div>
<br clear="all" /> 
<!-- top table with slideshow
================================================== -->

<h3>Portfolio Management and Risk Analysis Charts &ndash; Aqua Data Server Solution Examples</h3>




<p>You can download project source code from:<br/>
          <a href="http://www.aquafold.com/download/v17.0.0/solutions/FinancialExamples.zip"> http://www.aquafold.com/download/v17.0.0/solutions/FinancialExamples.zip<br />
          </a>Updated: Jan-29-2011</p>
</p>
<h3 class="underlined">Charts Implemented in this Project</h3>
<ul>
<li><a href="#volatility">Security Price Volatility</a> 
<li><a href="#risk-performance">Risk-Performance Single Security vs. Portfolio</a></li>
<li><a href="#correlations">Stock Prices Correlations and Diversification of Portfolio </a></li>
<!--<li><a href="#call-options">Call Options Analysis </a></li> -->
</ul>
</p>

<h3 class="underlined">Introduction.</h3>
<p>
Reports in this project are based on the real securities data downloaded from the Internet and
 processed using basic statistical functions such as Standard Deviation and Correlation. 
Results can be interpreted in investment terms and used in making decisions for estimating and predicting
 behavior of an individual security or forming a portfolio of stocks with the objective of minimizing risks of the investments.




<h3 class="underlined" id="volatility" style="padding-top:62px;">Security Price Volatility</h3>
<p>
"Volatility" is % of stock standard deviation to the stock average price  over a given period. (1 month in this example) 
Interpretation:
Stocks of different nature (technology, banking , commodity) behave differently though the year. In May 2008 they start to behave in a single trend (volatility increase) with the volatility peak in July (no significant change in Average price 3 month before market crash). 
In Sept 08 volatility has minimum for all stocks  (2 month before the crash) and then steadily goes up with the maximum around the market crash time. Note that all stocks perform in unison unlike in the beginning of the year.
If this is a pattern preceding a market crash it can be used for predictions.  

<br/><br/>
Read More: <a href="http://en.wikipedia.org/wiki/Standard_deviation"> http://en.wikipedia.org/wiki/Standard_deviation</a>
</p>
<h3 class="underlined">Implementation:</h3>
<p>
This chart requres using wto statistical functions - "Standard Deviation" and "Mean" from the Aqua Open API charting toolset.</br></br>
Volatility is calculated as a percentage of the standard deviation of the stock mean.

<br/><br/><div style="padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px;margin-bottom:20px; background-color: rgb(238, 238, 238); border: 1px dotted black; font-family: courier new,courier;"><br/>
volatility = aqua.math.stat.std(seriesOne)/aqua.math.stat.mean(seriesOne)*100; 
<br/><br/>
</div>   
<p>
Stock pricing data is the “close” price of the first day of the month January through December 2010 saved in the Project File “Annual Data.csv”
</p>



<a href="diagrams/stock-volatility.png"><img src="diagrams/stock-volatility.png" alt="CandleStick Plot" title="CandleStick Plot" border="0" style="margin-bottom:20px;" /></a>
</p>








<h3 class="underlined" id="risk-performance" style="padding-top:62px;">Risk-Performance Single Security vs. Portfolio</h3>
<p>
"Risk" is  percentage of the standard diviation for of a stock open price to the price average over a period of time (1 month in this example)
<br/><br/>
"Return" is the ration of the price at the beginnig of the month to the price at the end of the month minus1   muluplied by 100 to give a perentage of return or loss .
<br/><br/>
The diagrams can be interpreted in the following ways:
<br/><br/>
1. More riskier stocks tend to bring more returns and losses (look at GOLD, CPST compare with GLD). 
Difference between GLD and GOLD is the first one is an ETF (collection of assets) GOLD ia an individual gold mining company <br/>
2.  Diversification reduces risks but minimizes returns. Look at portfolio #4. It reduced losses from GOLD from -12% to -0.8%.<br/>
3. More riskier portfolios tend to bring better returns. Look at the portfolios staring from #6. 
Interesting that the risk between Portfolio #6 and #12 increases  1.3 times while the return increases 15 times.<br/>
4.  Adding more stocks to portfolio does not mean consistent risk decrease. Look at the Portfolio Risk line. It has minimum.  
But even adding highly volatile stocks to the portfolio does not increase risk much. Look at adding ORCL and BAC.<br/>
5. It is hard to do in Excel but it would be nice to have an algorithm that tries different stocks combinations to find minimum risk for the portfolio.

<br/><br/>
Read More: <a href="http://en.wikipedia.org/wiki/Modern_portfolio_theory"> http://en.wikipedia.org/wiki/Modern_portfolio_theory</a>
</p>
<h3 class="underlined">Implementation:</h3>
<p>
Stock pricing data is the “close” price on all days of December 2010. Returns are calculated as a percentage 
of “close” prices on the first day of the month to the “close” prices on the last day of the month. <br/>
Volatility is calculated as a percentage of the standard deviation of the stock mean.
<br/><br/><div style="padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px;margin-bottom:20px; background-color: rgb(238, 238, 238); border: 1px dotted black; font-family: courier new,courier;"><br/>
stockRisk = aqua.math.stat.std(seriesOne)/aqua.math.stat.mean(seriesOne)*100;
<br/>
stockReturn = (startValue / endValue - 1) * 100;
<br/><br/>
</div>
    



<a href="diagrams/individual-stock-risk-performance.png"><img src="diagrams/individual-stock-risk-performance.png" alt="MACD" title="MACD" border="0" style="margin-bottom:20px;" /></a>

<br/><br/>

<a href="diagrams/portfolio-risk-performance.png"><img src="diagrams/portfolio-risk-performance.png" alt="MACD" title="MACD" border="0" style="margin-bottom:20px;" /></a>
</p>






<h3 class="underlined" id="correlations" style="padding-top:62px;">Stock Prices Correlations and Diversification of Portfolio</h3>
<p>
For this example we are tying to build a highly diversified portfolio with 6 stocks selected form 12 available in the matrix.  
As a comparison we also select 6 stocks to build a less diversified portfolio and compare the risk an performance.
Diversification requires selecting stocks with  less possible mutual correlation. 
NOTE :   Combining stocks with high negative correlation does not improve diversification. It is "hedging" - eliminating risks by offsetting the price change. Hedging apparently decreases the portfolio performance and very questionable
in terms of actual risk reduction. We'll try to select stocks with maximum independency, so the absolute value of the correlating has to be minimal.  (Although line 16 can be a good hedging scenario)
Selection is made manually , based on observation of the charts and matrix data. It is not an optimal way of doing this. Optimal selection would involve comparison of all possible combinations 6 out of 12 (3690 combinations).
Based on observation  FSLR seems to have low correlation with many of stocks and CAT has high correlation. So for "low correlation " portfolio we select   FSLR,BEAT,JRCC,CPST,OIL,FXF   and for "high correlation"  CAT, ORCL, BIO, FXF, BEAT, GOOG.

Those portfolios have Risk (Standard deviation)  1.96 and 2.26   and returns over one month 6.73% and 7.52%.   The low correlation(highly diversified portfolio) makes better return than random portfolios with higher risk (Portfolios 1-2-3 in the Risk-Performance spread sheet)

Potential for development. It would be great to implement two automated functions.
1. Function will calculate combination with lowest possible correlation out of given set of stocks. It can be used for forming a diversified portfolio.
2. Function that would dynamically recalculate the portfolio correlation and suggest which stocks become correlated. Based on this analysis it will be possible making selling and buying decisions to adjust the portfolio.

NOTE: All examples assumed equal funds distribution to every stock in the portfolio. Additional optimizations can be done by changing share of the capital put in each particular stock.
<br/><br/>
Read More: <a href="http://en.wikipedia.org/wiki/Diversification_%28finance%29"> http://en.wikipedia.org/wiki/Diversification_%28finance%29</a>
</p>
<h3 class="underlined">Implementation:</h3>
<p>
Pricing data sets for the socks shown in this example are “close” prices for every day of December 2010. 
<br/><br/>
Every row in the table and subsequent graph represent correlation of the price series of the stock shown
 in the beginning row and the price series of the stocks in the columns of the table.
<br/><br/>
The diagonal cells represent correlation of the stock series with themselves, which is always equal “1”.  
The table is symmetrical relative to the diagonal since the correlation between stock price set “A” and “B” is equal to the correlation between “B” and “A” .
<br/><br/>
In the code calculations of each row in the table include the “Correlation” function from the Aqua Open API  - aqua.math.stat.correlation 
<br/><br/><div style="padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px;margin-bottom:20px; background-color: rgb(238, 238, 238); border: 1px dotted black; font-family: courier new,courier;"><br/>
        var seriesOne = allSeriesArray[i];
<br/><br/>
        for (var j=0; j < allSeriesArray.length; j++)
<br/><br/> 
       {
<br/><br/> 
           dataSet.addRowWithValues(allSeriesArrayNames[i], allSeriesArrayNames[j], aqua.math.stat.correlation(seriesOne, allSeriesArray[j]));            
<br/><br/>        
}
<br/><br/>
        correlatedDataArray[i] = dataSet;
<br/><br/>
</div> 
<br/>
<a href="diagrams/stock-correlation.png"><img src="diagrams/stock-correlation_small.png" alt="RSI" title="RSI" border="0" style="margin-bottom:20px;" /></a>
</p>



<!--

<a name="call-options" style="padding-top:62px;"></a>
<h3 class="underlined">Call Options Analysis</h3>
<p>
The charts shows potential returns on investments for “call” options trading for “GLD” fund.
GLD is the “underlying asset” for the options. Today’s market price for GLD is $134.
 If we buy a “call option” for GLD it means we buy a right (not an obligation) to purchase GLD stock at a given price “strike” price any time between today and Feb-11-2011 (one month in the future). Option can be purchased at a fraction of cost of the actual underlying asset. This will give us an opportunity of controlling a large stock value investing a small amount of money. 
We buy the option assuming that the underlying stock price will increase in the future. If the stock goes up we’ll “exercise” the option and purchase the stock at the price lower than the actual market value. If it goes down we’ll let the contract expire and loose all the money we invest. (but this is only a fraction of the actual cost of the stock and it is always limited )
Since there are many option contracts available on the options market the question is which one to pick to maximize return on the invested capital. Option contract prices depend on the strike price and many other factors that generally reflect opinion of other market participants on the stock behavior within the option period (one month in our example). 
Before buying an option we also assume certain moves of the underlying stock. The chart helps selecting the best option contract under the assumption.
If we believe that the stock price will increase at least 15% during this month  the best option will be the one with the strike price $148. (the contract cost and the maximum risk is $10  for this option). The potential return on investment is 28. If the price of GLD will increase at least 15% during this month the contract will bring us profit of $280. 
Similar if we expect the price to rise 30%  the best choice will be an option with the strike price around $160 which will bring $4160 with $16 investment (ROI = 260)
The chart also suggests expectations of the market participant regarding the stock price changes in the nearest future – they expect it to rize.
Calculations:  (all is relative to one stock)
ROI = Profit/Ask       (“Ask” is the option contract price which we pay )
Profit = Expected Price  - Strike Price – Ask   ( “Ask” is what we lose if we don’t exercise the option)
Expected Price = Current Price * Expected Change %   


</p><br/>
Read More: <a href="http://en.wikipedia.org/wiki/Call_option"> http://en.wikipedia.org/wiki/Call_option</a>
</p>
<h3 class="underlined">Implementation:</h3>
<p>
implementation</p>
 

<div style="padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px;margin-bottom:20px; background-color: rgb(238, 238, 238); border: 1px dotted black; font-family: courier new,courier;">
<br/>
code goes here
<br/><br/>





<a href="diagrams/stochastic oscillator.png"><img src="diagrams/stochastic oscillator.png" alt="Stochastic Oscillator" title="Stochastic Oscillator" border="0" style="margin-bottom:20px;" /></a>

</p>



-->


<!-- New paragraph

-----
<h3 class="underlined">Introduction. Technical Indicators and Overlays.</h3>
<p>




-->




<!--Start Footer-->
<div class="copyfooter">
	<p style="float:left;padding-left:0px">
		<a href="../index.html">
		Home
		</a>
		&#149;
		<a href="../aquadatastudio.html">
		Aqua Data Studio
		</a>
		&#149;
		<a href="../aquadataserver.html">
		Aqua Data Server
		</a>
		&#149;                    
		<a href="../aquaclusters.html">
		AquaClusters
		</a>
		&#149;   
		<a href="../support.html">
		Support
		</a>
		&#149;
		<a href="../store.html">
		Buy
		</a>

		&#149;
		<a href="../company.html">
		Company
		</a>
		&#149;
		<a href="http://www.aquafold.com/privacy.html">
		Privacy
		</a>
	</p>
	<p style="display:block;float:right;text-align:right;padding-right:0px;">
	Copyright &copy; 2001&ndash;2016 AquaFold, Inc. All Rights Reserved.
	</p>
</div>
<br />
<!--End Footer-->

</div>
</body>
</html>
